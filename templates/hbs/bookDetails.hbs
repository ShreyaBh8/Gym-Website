<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Booking Details</title>
    <link rel="stylesheet" href="CSS/style.css">
    <link
        href="https://fonts.googleapis.com/css2?family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/mdb-ui-kit/6.3.1/mdb.min.css" rel="stylesheet">
    <style>
        * {
            font-family: poppins;
        }

        table {

            margin-top: 20px;
            border-collapse: collapse;
            text-align: center;
        }

        .navbar {
            background-color: #333;
            justify-content: space-around;
        }


        th,
        td {
            padding: 12px 15px;
            text-align: center;
            border: 1px solid #ddd;
        }

        th {
            background-color: #f4f4f4;
        }

        tr:nth-child(even) {
            background-color: #f9f9f9;
        }

        a.btn {
            margin-top: 20px;
            display: inline-block;
            font-size: 1.2rem;
        }

        hr {
            border: none;
            height: 1px;
            background-color: #ccc;
            margin: 10px 0;
        }

        h2 {
            font-size: 3rem;
        }

        h1,
        h2 {
            color: #333;
        }

        .container {
            padding: 0;
        }

        form input {
            color: red;
            background: transparent;
            height: 30px;
            padding: 0;
        }

        .alert .btn-close {
            background-color: transparent;
            border: none;
            font-size: 1rem;
            color: #333;
            opacity: 0.7;
            transition: opacity 0.3s ease;
        }

        .alert .btn-close:hover {
            opacity: 0.9;
        }
    </style>
</head>

<body>
    {{> authNav}}

    <div class="container">
        {{#if success}}
        <div class="alert alert-success alert-dismissible fade show" role="alert">
            <strong>Success!</strong> {{success}}
            <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
        </div>
        {{/if}}
        {{#if bookings}}
        <h2>Your Booking Details</h2>
        <table class="table table-bordered">
            <thead>
                <tr>
                    <th>Name</th>
                    <th>Email</th>
                    <th>Phone</th>
                    <th>Gender</th>
                    <th>State</th>
                    <th>City</th>
                    <th>Session Type</th>
                    <th>Date</th>
                    <th>Time</th>
                    <th>Cancel Booking</th>
                </tr>
            </thead>
            <tbody>
                {{#each bookings}}
                <tr>
                    <td>{{this.fullname}}</td>
                    <td>{{this.email}}</td>
                    <td>{{this.phone}}</td>
                    <td>{{this.gender}}</td>
                    <td>{{this.state}}</td>
                    <td>{{this.city}}</td>
                    <td>{{this.stype}}</td>
                    <td>{{this.date}}</td>
                    <td>{{this.time}}</td>
                    <td>
                        <form action="/cancel" method="POST">
                            <input type="hidden" name="fullname" value="{{this.fullname}}">
                            <input type="hidden" name="email" value="{{this.email}}">
                            <input type="hidden" name="phone" value="{{this.phone}}">
                            <input type="hidden" name="gender" value="{{this.gender}}">
                            <input type="hidden" name="state" value="{{this.state}}">
                            <input type="hidden" name="city" value="{{this.city}}">
                            <input type="hidden" name="stype" value="{{this.stype}}">
                            <input type="hidden" name="date" value="{{this.date}}">
                            <input type="hidden" name="time" value="{{this.time}}">
                            <input type="submit" value="Cancel">
                        </form>
                    </td>
                </tr>

                {{/each}}
            </tbody>
        </table>
        {{else}}
        <h1>No Bookings!</h1>
        {{/if}}
        <a href="/book" class="btn btn-primary">Book New Session</a>

    </div>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    <script src="JS/script.js"></script>
</body>

</html>